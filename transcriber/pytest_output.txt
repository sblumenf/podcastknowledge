============================= test session starts ==============================
platform linux -- Python 3.11.2, pytest-8.3.5, pluggy-1.6.0 -- /home/sergeblumenfeld/podcastknowledge/transcriber/venv/bin/python3
rootdir: /home/sergeblumenfeld/podcastknowledge/transcriber
configfile: pytest.ini
testpaths: tests
plugins: mock-3.14.1, asyncio-1.0.0, cov-6.1.1
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 431 items

tests/test_checkpoint_recovery_integration.py::TestCheckpointRecoveryIntegration::test_checkpoint_recovery_mid_transcription PASSED [  0%]
tests/test_checkpoint_recovery_integration.py::TestCheckpointRecoveryIntegration::test_multiple_interruptions_and_recovery PASSED [  0%]
tests/test_checkpoint_recovery_integration.py::TestCheckpointRecoveryIntegration::test_checkpoint_with_temp_file_cleanup FAILED [  0%]
tests/test_checkpoint_recovery_integration.py::TestCheckpointRecoveryIntegration::test_concurrent_checkpoint_protection FAILED [  0%]
tests/test_checkpoint_recovery_integration.py::TestCheckpointRecoveryIntegration::test_checkpoint_recovery_with_orchestrator FAILED [  1%]
tests/test_checkpoint_recovery_integration.py::TestCheckpointRecoveryIntegration::test_checkpoint_file_integrity PASSED [  1%]
tests/test_checkpoint_recovery_integration.py::TestCheckpointRecoveryIntegration::test_no_duplicate_processing_after_recovery FAILED [  1%]
tests/test_config.py::TestAPIConfig::test_default_values PASSED          [  1%]
tests/test_config.py::TestProcessingConfig::test_default_values PASSED   [  2%]
tests/test_config.py::TestOutputConfig::test_default_values PASSED       [  2%]
tests/test_config.py::TestLogginConfig::test_default_values PASSED       [  2%]
tests/test_config.py::TestSecurityConfig::test_default_values PASSED     [  2%]
tests/test_config.py::TestSecurityConfig::test_custom_api_key_vars PASSED [  3%]
tests/test_config.py::TestDevelopmentConfig::test_default_values PASSED  [  3%]
tests/test_config.py::TestConfig::test_default_initialization PASSED     [  3%]
tests/test_config.py::TestConfig::test_load_from_yaml_file PASSED        [  3%]
tests/test_config.py::TestConfig::test_missing_config_file PASSED        [  3%]
tests/test_config.py::TestConfig::test_invalid_yaml_file PASSED          [  4%]
tests/test_config.py::TestConfig::test_environment_overrides PASSED      [  4%]
tests/test_config.py::TestConfig::test_validation_errors PASSED          [  4%]
tests/test_config.py::TestConfig::test_get_api_keys PASSED               [  4%]
tests/test_config.py::TestConfig::test_get_api_keys_custom_vars PASSED   [  5%]
tests/test_config.py::TestConfig::test_to_dict PASSED                    [  5%]
tests/test_config.py::TestConfig::test_apply_config_section_api PASSED   [  5%]
tests/test_config.py::TestConfig::test_apply_config_section_output PASSED [  5%]
tests/test_config.py::TestConfig::test_validate_timestamp_precision PASSED [  6%]
tests/test_config.py::TestConfig::test_validate_rotation_strategy PASSED [  6%]
tests/test_config.py::TestConfigSingleton::test_get_config_singleton PASSED [  6%]
tests/test_config.py::TestConfigSingleton::test_reload_config PASSED     [  6%]
tests/test_e2e_transcription.py::TestE2ETranscriptionWithAudioUpload::test_full_pipeline_with_audio_upload FAILED [  6%]
tests/test_e2e_transcription.py::TestE2ETranscriptionWithAudioUpload::test_pipeline_audio_download_failure FAILED [  7%]
tests/test_feed_parser.py::TestEpisode::test_valid_episode_creation PASSED [  7%]
tests/test_feed_parser.py::TestEpisode::test_episode_with_all_fields PASSED [  7%]
tests/test_feed_parser.py::TestEpisode::test_episode_missing_title PASSED [  7%]
tests/test_feed_parser.py::TestEpisode::test_episode_missing_audio_url PASSED [  8%]
tests/test_feed_parser.py::TestEpisode::test_episode_missing_guid PASSED [  8%]
tests/test_feed_parser.py::TestEpisode::test_episode_invalid_audio_url PASSED [  8%]
tests/test_feed_parser.py::TestEpisode::test_episode_to_dict PASSED      [  8%]
tests/test_feed_parser.py::TestPodcastMetadata::test_podcast_metadata_creation PASSED [  9%]
tests/test_feed_parser.py::TestPodcastMetadata::test_podcast_metadata_defaults PASSED [  9%]
tests/test_feed_parser.py::TestParseFeed::test_parse_feed_success PASSED [  9%]
tests/test_feed_parser.py::TestParseFeed::test_parse_feed_with_bozo_error PASSED [  9%]
tests/test_feed_parser.py::TestParseFeed::test_parse_feed_network_error PASSED [  9%]
tests/test_feed_parser.py::TestParseFeed::test_parse_feed_no_episodes PASSED [ 10%]
tests/test_feed_parser.py::TestExtractPodcastMetadata::test_extract_basic_metadata PASSED [ 10%]
tests/test_feed_parser.py::TestExtractPodcastMetadata::test_extract_itunes_metadata PASSED [ 10%]
tests/test_feed_parser.py::TestExtractPodcastMetadata::test_extract_standard_image PASSED [ 10%]
tests/test_feed_parser.py::TestExtractPodcastMetadata::test_extract_minimal_metadata PASSED [ 11%]
tests/test_feed_parser.py::TestExtractEpisodes::test_extract_multiple_episodes PASSED [ 11%]
tests/test_feed_parser.py::TestExtractEpisodes::test_extract_episodes_with_failures PASSED [ 11%]
tests/test_feed_parser.py::TestParseEpisode::test_parse_basic_episode PASSED [ 11%]
tests/test_feed_parser.py::TestParseEpisode::test_parse_episode_with_itunes_metadata PASSED [ 12%]
tests/test_feed_parser.py::TestParseEpisode::test_parse_episode_no_audio PASSED [ 12%]
tests/test_feed_parser.py::TestParseEpisode::test_parse_episode_multiple_enclosures PASSED [ 12%]
tests/test_feed_parser.py::TestParseEpisode::test_parse_episode_fallback_guid PASSED [ 12%]
tests/test_feed_parser.py::TestParseEpisode::test_parse_episode_audio_url_as_guid PASSED [ 12%]
tests/test_feed_parser.py::TestUtilityFunctions::test_validate_feed_url_valid PASSED [ 13%]
tests/test_feed_parser.py::TestUtilityFunctions::test_validate_feed_url_invalid PASSED [ 13%]
tests/test_feed_parser_formats.py::TestFeedParserFormats::test_parse_standard_rss_20 PASSED [ 13%]
tests/test_feed_parser_formats.py::TestFeedParserFormats::test_parse_itunes_podcast_feed FAILED [ 13%]
tests/test_feed_parser_formats.py::TestFeedParserFormats::test_parse_feed_without_duration FAILED [ 14%]
tests/test_feed_parser_formats.py::TestFeedParserFormats::test_parse_feed_with_youtube_links FAILED [ 14%]
tests/test_feed_parser_formats.py::TestFeedParserFormats::test_parse_complex_feed FAILED [ 14%]

=================================== FAILURES ===================================
___ TestCheckpointRecoveryIntegration.test_checkpoint_with_temp_file_cleanup ___
tests/test_checkpoint_recovery_integration.py:268: in test_checkpoint_with_temp_file_cleanup
    assert path.exists()
E   AssertionError: assert False
E    +  where False = exists()
E    +    where exists = PosixPath('/tmp/pytest-of-sergeblumenfeld/pytest-54/test_checkpoint_with_temp_file0/data/.temp/temp_audio.mp3').exists
------------------------------ Captured log setup ------------------------------
DEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector
----------------------------- Captured stderr call -----------------------------
2025-06-02 20:11:09 - podcast_transcriber.checkpoint_recovery - INFO - Started checkpoint for episode: Cleanup Test
2025-06-02 20:11:09 - podcast_transcriber.checkpoint_recovery - ERROR - Episode failed: Cleanup Test - Test error
------------------------------ Captured log call -------------------------------
INFO     podcast_transcriber.checkpoint_recovery:checkpoint_recovery.py:147 Started checkpoint for episode: Cleanup Test
ERROR    podcast_transcriber.checkpoint_recovery:checkpoint_recovery.py:302 Episode failed: Cleanup Test - Test error
___ TestCheckpointRecoveryIntegration.test_concurrent_checkpoint_protection ____
tests/test_checkpoint_recovery_integration.py:299: in test_concurrent_checkpoint_protection
    with pytest.raises(Exception) as exc_info:
E   Failed: DID NOT RAISE <class 'Exception'>
------------------------------ Captured log setup ------------------------------
DEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector
----------------------------- Captured stderr call -----------------------------
2025-06-02 20:11:10 - podcast_transcriber.checkpoint_recovery - INFO - Started checkpoint for episode: Concurrent Test 1
2025-06-02 20:11:10 - podcast_transcriber.checkpoint_recovery - INFO - Loaded checkpoint for episode: Concurrent Test 1
2025-06-02 20:11:10 - podcast_transcriber.checkpoint_recovery - ERROR - Episode failed: Concurrent Test 1 - New episode started before previous completed
2025-06-02 20:11:10 - podcast_transcriber.checkpoint_recovery - INFO - Started checkpoint for episode: Concurrent Test 2
------------------------------ Captured log call -------------------------------
INFO     podcast_transcriber.checkpoint_recovery:checkpoint_recovery.py:147 Started checkpoint for episode: Concurrent Test 1
INFO     podcast_transcriber.checkpoint_recovery:checkpoint_recovery.py:80 Loaded checkpoint for episode: Concurrent Test 1
ERROR    podcast_transcriber.checkpoint_recovery:checkpoint_recovery.py:302 Episode failed: Concurrent Test 1 - New episode started before previous completed
INFO     podcast_transcriber.checkpoint_recovery:checkpoint_recovery.py:147 Started checkpoint for episode: Concurrent Test 2
_ TestCheckpointRecoveryIntegration.test_checkpoint_recovery_with_orchestrator _
tests/test_checkpoint_recovery_integration.py:377: in test_checkpoint_recovery_with_orchestrator
    assert resume_info['episode_title'] == mock_episode.title
E   AssertionError: assert 'Test Episode 1' == 'Test Episode for Checkpoint'
E     
E     - Test Episode for Checkpoint
E     + Test Episode 1
------------------------------ Captured log setup ------------------------------
DEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector
----------------------------- Captured stderr call -----------------------------
2025-06-02 20:11:10 - podcast_transcriber.config - INFO - Loaded configuration from: /tmp/pytest-of-sergeblumenfeld/pytest-54/test_checkpoint_recovery_with_0/config.yaml
2025-06-02 20:11:10 - podcast_transcriber.config - INFO - Running in test mode - relaxed validation
2025-06-02 20:11:10 - podcast_transcriber.progress_tracker - INFO - Progress tracker initialized with 4 episodes
2025-06-02 20:11:10 - podcast_transcriber.key_rotation_manager - INFO - Performing daily reset of key states
2025-06-02 20:11:10 - podcast_transcriber.key_rotation_manager - INFO - Loaded rotation state, current index: 2
2025-06-02 20:11:10 - podcast_transcriber.key_rotation_manager - INFO - Initialized key rotation manager with 1 keys
2025-06-02 20:11:10 - podcast_transcriber.gemini_client - INFO - Found 1 API key(s) in environment
2025-06-02 20:11:10 - podcast_transcriber.gemini_client - INFO - Initialized Gemini client with 1 API keys
2025-06-02 20:11:10 - podcast_transcriber.gemini_client - INFO - Reset daily usage for API key 1
2025-06-02 20:11:10 - podcast_transcriber.gemini_client - INFO - Loaded usage state from file
2025-06-02 20:11:10 - podcast_transcriber.checkpoint_recovery - INFO - Loaded checkpoint for episode: Test Episode 1
2025-06-02 20:11:10 - podcast_transcriber.orchestrator - INFO - Found resumable checkpoint: Test Episode 1
2025-06-02 20:11:10 - podcast_transcriber.orchestrator - INFO - Last updated 23.9 hours ago
------------------------------ Captured log call -------------------------------
INFO     podcast_transcriber.config:config.py:152 Loaded configuration from: /tmp/pytest-of-sergeblumenfeld/pytest-54/test_checkpoint_recovery_with_0/config.yaml
INFO     podcast_transcriber.config:config.py:287 Running in test mode - relaxed validation
INFO     podcast_transcriber.progress_tracker:progress_tracker.py:193 Progress tracker initialized with 4 episodes
INFO     podcast_transcriber.key_rotation_manager:key_rotation_manager.py:168 Performing daily reset of key states
INFO     podcast_transcriber.key_rotation_manager:key_rotation_manager.py:144 Loaded rotation state, current index: 2
INFO     podcast_transcriber.key_rotation_manager:key_rotation_manager.py:119 Initialized key rotation manager with 1 keys
INFO     podcast_transcriber.gemini_client:gemini_client.py:1138 Found 1 API key(s) in environment
INFO     podcast_transcriber.gemini_client:gemini_client.py:122 Initialized Gemini client with 1 API keys
INFO     podcast_transcriber.gemini_client:gemini_client.py:93 Reset daily usage for API key 1
INFO     podcast_transcriber.gemini_client:gemini_client.py:149 Loaded usage state from file
INFO     podcast_transcriber.checkpoint_recovery:checkpoint_recovery.py:80 Loaded checkpoint for episode: Test Episode 1
INFO     podcast_transcriber.orchestrator:orchestrator.py:73 Found resumable checkpoint: Test Episode 1
INFO     podcast_transcriber.orchestrator:orchestrator.py:74 Last updated 23.9 hours ago
_ TestCheckpointRecoveryIntegration.test_no_duplicate_processing_after_recovery _
tests/test_checkpoint_recovery_integration.py:463: in test_no_duplicate_processing_after_recovery
    assert resume_info['metadata']['is_retry_of_completed'] is True
E   KeyError: 'metadata'
------------------------------ Captured log setup ------------------------------
DEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector
----------------------------- Captured stderr call -----------------------------
2025-06-02 20:11:10 - podcast_transcriber.checkpoint_recovery - INFO - Started checkpoint for episode: Already Completed Episode
------------------------------ Captured log call -------------------------------
INFO     podcast_transcriber.checkpoint_recovery:checkpoint_recovery.py:147 Started checkpoint for episode: Already Completed Episode
___ TestE2ETranscriptionWithAudioUpload.test_full_pipeline_with_audio_upload ___
tests/test_e2e_transcription.py:202: in test_full_pipeline_with_audio_upload
    assert mock_upload.called
E   AssertionError: assert False
E    +  where False = <MagicMock name='upload_file' id='139881068402192'>.called
------------------------------ Captured log setup ------------------------------
DEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector
----------------------------- Captured stderr call -----------------------------
2025-06-02 20:11:10 - podcast_transcriber.config - INFO - Loaded configuration from: /tmp/pytest-of-sergeblumenfeld/pytest-54/test_full_pipeline_with_audio_0/config/test_config.yaml
2025-06-02 20:11:10 - podcast_transcriber.config - INFO - Running in test mode - relaxed validation
2025-06-02 20:11:10 - podcast_transcriber.progress_tracker - INFO - Progress tracker initialized with 4 episodes
2025-06-02 20:11:10 - podcast_transcriber.key_rotation_manager - INFO - Performing daily reset of key states
2025-06-02 20:11:10 - podcast_transcriber.key_rotation_manager - INFO - Loaded rotation state, current index: 2
2025-06-02 20:11:10 - podcast_transcriber.key_rotation_manager - INFO - Initialized key rotation manager with 1 keys
2025-06-02 20:11:10 - podcast_transcriber.gemini_client - INFO - Found 1 API key(s) in environment
2025-06-02 20:11:10 - podcast_transcriber.gemini_client - INFO - Initialized Gemini client with 1 API keys
2025-06-02 20:11:10 - podcast_transcriber.gemini_client - INFO - Reset daily usage for API key 1
2025-06-02 20:11:10 - podcast_transcriber.gemini_client - INFO - Loaded usage state from file
2025-06-02 20:11:10 - podcast_transcriber.checkpoint_recovery - INFO - Loaded checkpoint for episode: Test Episode 1
2025-06-02 20:11:10 - podcast_transcriber.feed_parser - INFO - Parsing RSS feed: https://example.com/feed.xml
2025-06-02 20:11:10 - podcast_transcriber.feed_parser - INFO - Parsed podcast: E2E Test Podcast
2025-06-02 20:11:10 - podcast_transcriber.feed_parser - INFO - Found 1 episodes in feed
2025-06-02 20:11:10 - podcast_transcriber.orchestrator - INFO - Found 1 episodes in feed: E2E Test Podcast
2025-06-02 20:11:10 - podcast_transcriber.orchestrator - INFO - No pending episodes to process
------------------------------ Captured log call -------------------------------
INFO     podcast_transcriber.config:config.py:152 Loaded configuration from: /tmp/pytest-of-sergeblumenfeld/pytest-54/test_full_pipeline_with_audio_0/config/test_config.yaml
INFO     podcast_transcriber.config:config.py:287 Running in test mode - relaxed validation
INFO     podcast_transcriber.progress_tracker:progress_tracker.py:193 Progress tracker initialized with 4 episodes
INFO     podcast_transcriber.key_rotation_manager:key_rotation_manager.py:168 Performing daily reset of key states
INFO     podcast_transcriber.key_rotation_manager:key_rotation_manager.py:144 Loaded rotation state, current index: 2
INFO     podcast_transcriber.key_rotation_manager:key_rotation_manager.py:119 Initialized key rotation manager with 1 keys
INFO     podcast_transcriber.gemini_client:gemini_client.py:1138 Found 1 API key(s) in environment
INFO     podcast_transcriber.gemini_client:gemini_client.py:122 Initialized Gemini client with 1 API keys
INFO     podcast_transcriber.gemini_client:gemini_client.py:93 Reset daily usage for API key 1
INFO     podcast_transcriber.gemini_client:gemini_client.py:149 Loaded usage state from file
INFO     podcast_transcriber.checkpoint_recovery:checkpoint_recovery.py:80 Loaded checkpoint for episode: Test Episode 1
INFO     podcast_transcriber.feed_parser:feed_parser.py:107 Parsing RSS feed: https://example.com/feed.xml
INFO     podcast_transcriber.feed_parser:feed_parser.py:121 Parsed podcast: E2E Test Podcast
INFO     podcast_transcriber.feed_parser:feed_parser.py:125 Found 1 episodes in feed
INFO     podcast_transcriber.orchestrator:orchestrator.py:93 Found 1 episodes in feed: E2E Test Podcast
INFO     podcast_transcriber.orchestrator:orchestrator.py:108 No pending episodes to process
___ TestE2ETranscriptionWithAudioUpload.test_pipeline_audio_download_failure ___
tests/test_e2e_transcription.py:326: in test_pipeline_audio_download_failure
    assert progress_file.exists()
E   AssertionError: assert False
E    +  where False = exists()
E    +    where exists = PosixPath('/tmp/pytest-of-sergeblumenfeld/pytest-54/test_pipeline_audio_download_f0/data/.transcription_progress.json').exists
------------------------------ Captured log setup ------------------------------
DEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector
----------------------------- Captured stderr call -----------------------------
2025-06-02 20:11:10 - podcast_transcriber.config - INFO - Loaded configuration from: /tmp/pytest-of-sergeblumenfeld/pytest-54/test_pipeline_audio_download_f0/config/test_config.yaml
2025-06-02 20:11:10 - podcast_transcriber.config - INFO - Running in test mode - relaxed validation
2025-06-02 20:11:10 - podcast_transcriber.progress_tracker - INFO - Progress tracker initialized with 4 episodes
2025-06-02 20:11:10 - podcast_transcriber.key_rotation_manager - INFO - Performing daily reset of key states
2025-06-02 20:11:10 - podcast_transcriber.key_rotation_manager - INFO - Loaded rotation state, current index: 2
2025-06-02 20:11:10 - podcast_transcriber.key_rotation_manager - INFO - Initialized key rotation manager with 1 keys
2025-06-02 20:11:10 - podcast_transcriber.gemini_client - INFO - Found 1 API key(s) in environment
2025-06-02 20:11:10 - podcast_transcriber.gemini_client - INFO - Initialized Gemini client with 1 API keys
2025-06-02 20:11:10 - podcast_transcriber.gemini_client - INFO - Reset daily usage for API key 1
2025-06-02 20:11:10 - podcast_transcriber.gemini_client - INFO - Loaded usage state from file
2025-06-02 20:11:10 - podcast_transcriber.checkpoint_recovery - INFO - Loaded checkpoint for episode: Test Episode 1
2025-06-02 20:11:10 - podcast_transcriber.feed_parser - INFO - Parsing RSS feed: https://example.com/feed.xml
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - ERROR - Feed parsing error: syntax error
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - INFO - Parsed podcast: Unknown Podcast
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - INFO - Found 0 episodes in feed
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - WARNING - No episodes found in feed
2025-06-02 20:11:11 - podcast_transcriber.orchestrator - INFO - Found 0 episodes in feed: Unknown Podcast
2025-06-02 20:11:11 - podcast_transcriber.orchestrator - INFO - No pending episodes to process
------------------------------ Captured log call -------------------------------
INFO     podcast_transcriber.config:config.py:152 Loaded configuration from: /tmp/pytest-of-sergeblumenfeld/pytest-54/test_pipeline_audio_download_f0/config/test_config.yaml
INFO     podcast_transcriber.config:config.py:287 Running in test mode - relaxed validation
INFO     podcast_transcriber.progress_tracker:progress_tracker.py:193 Progress tracker initialized with 4 episodes
INFO     podcast_transcriber.key_rotation_manager:key_rotation_manager.py:168 Performing daily reset of key states
INFO     podcast_transcriber.key_rotation_manager:key_rotation_manager.py:144 Loaded rotation state, current index: 2
INFO     podcast_transcriber.key_rotation_manager:key_rotation_manager.py:119 Initialized key rotation manager with 1 keys
INFO     podcast_transcriber.gemini_client:gemini_client.py:1138 Found 1 API key(s) in environment
INFO     podcast_transcriber.gemini_client:gemini_client.py:122 Initialized Gemini client with 1 API keys
INFO     podcast_transcriber.gemini_client:gemini_client.py:93 Reset daily usage for API key 1
INFO     podcast_transcriber.gemini_client:gemini_client.py:149 Loaded usage state from file
INFO     podcast_transcriber.checkpoint_recovery:checkpoint_recovery.py:80 Loaded checkpoint for episode: Test Episode 1
INFO     podcast_transcriber.feed_parser:feed_parser.py:107 Parsing RSS feed: https://example.com/feed.xml
ERROR    podcast_transcriber.feed_parser:feed_parser.py:116 Feed parsing error: syntax error
INFO     podcast_transcriber.feed_parser:feed_parser.py:121 Parsed podcast: Unknown Podcast
INFO     podcast_transcriber.feed_parser:feed_parser.py:125 Found 0 episodes in feed
WARNING  podcast_transcriber.feed_parser:feed_parser.py:128 No episodes found in feed
INFO     podcast_transcriber.orchestrator:orchestrator.py:93 Found 0 episodes in feed: Unknown Podcast
INFO     podcast_transcriber.orchestrator:orchestrator.py:108 No pending episodes to process
_____________ TestFeedParserFormats.test_parse_itunes_podcast_feed _____________
tests/test_feed_parser_formats.py:306: in test_parse_itunes_podcast_feed
    assert podcast_metadata.image_url == "https://example.com/podcast-logo.jpg"
E   AssertionError: assert None == 'https://example.com/podcast-logo.jpg'
E    +  where None = PodcastMetadata(title='iTunes Enhanced Podcast', description='A podcast with iTunes extensions', link='https://example.com', language='en-us', author='John Podcaster', owner_name=None, owner_email=None, category=None, explicit=False, image_url=None).image_url
----------------------------- Captured stderr call -----------------------------
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - INFO - Parsing RSS feed: https://example.com/itunes-feed.xml
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - INFO - Parsed podcast: iTunes Enhanced Podcast
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - INFO - Found 0 episodes in feed
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - WARNING - No episodes found in feed
------------------------------ Captured log call -------------------------------
INFO     podcast_transcriber.feed_parser:feed_parser.py:107 Parsing RSS feed: https://example.com/itunes-feed.xml
INFO     podcast_transcriber.feed_parser:feed_parser.py:121 Parsed podcast: iTunes Enhanced Podcast
INFO     podcast_transcriber.feed_parser:feed_parser.py:125 Found 0 episodes in feed
WARNING  podcast_transcriber.feed_parser:feed_parser.py:128 No episodes found in feed
____________ TestFeedParserFormats.test_parse_feed_without_duration ____________
tests/test_feed_parser_formats.py:343: in test_parse_feed_without_duration
    assert len(episodes) == 1
E   assert 0 == 1
E    +  where 0 = len([])
----------------------------- Captured stderr call -----------------------------
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - INFO - Parsing RSS feed: https://example.com/no-duration-feed.xml
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - INFO - Parsed podcast: No Duration Podcast
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - INFO - Found 0 episodes in feed
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - WARNING - No episodes found in feed
------------------------------ Captured log call -------------------------------
INFO     podcast_transcriber.feed_parser:feed_parser.py:107 Parsing RSS feed: https://example.com/no-duration-feed.xml
INFO     podcast_transcriber.feed_parser:feed_parser.py:121 Parsed podcast: No Duration Podcast
INFO     podcast_transcriber.feed_parser:feed_parser.py:125 Found 0 episodes in feed
WARNING  podcast_transcriber.feed_parser:feed_parser.py:128 No episodes found in feed
___________ TestFeedParserFormats.test_parse_feed_with_youtube_links ___________
tests/test_feed_parser_formats.py:387: in test_parse_feed_with_youtube_links
    assert len(episodes) == 2
E   assert 0 == 2
E    +  where 0 = len([])
----------------------------- Captured stderr call -----------------------------
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - INFO - Parsing RSS feed: https://example.com/youtube-feed.xml
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - INFO - Parsed podcast: YouTube Linked Podcast
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - INFO - Found 0 episodes in feed
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - WARNING - No episodes found in feed
------------------------------ Captured log call -------------------------------
INFO     podcast_transcriber.feed_parser:feed_parser.py:107 Parsing RSS feed: https://example.com/youtube-feed.xml
INFO     podcast_transcriber.feed_parser:feed_parser.py:121 Parsed podcast: YouTube Linked Podcast
INFO     podcast_transcriber.feed_parser:feed_parser.py:125 Found 0 episodes in feed
WARNING  podcast_transcriber.feed_parser:feed_parser.py:128 No episodes found in feed
________________ TestFeedParserFormats.test_parse_complex_feed _________________
tests/test_feed_parser_formats.py:439: in test_parse_complex_feed
    assert len(episodes) == 2
E   assert 0 == 2
E    +  where 0 = len([])
----------------------------- Captured stderr call -----------------------------
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - INFO - Parsing RSS feed: https://example.com/complex-feed.xml
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - INFO - Parsed podcast: Complex & Technical Podcast
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - INFO - Found 0 episodes in feed
2025-06-02 20:11:11 - podcast_transcriber.feed_parser - WARNING - No episodes found in feed
------------------------------ Captured log call -------------------------------
INFO     podcast_transcriber.feed_parser:feed_parser.py:107 Parsing RSS feed: https://example.com/complex-feed.xml
INFO     podcast_transcriber.feed_parser:feed_parser.py:121 Parsed podcast: Complex & Technical Podcast
INFO     podcast_transcriber.feed_parser:feed_parser.py:125 Found 0 episodes in feed
WARNING  podcast_transcriber.feed_parser:feed_parser.py:128 No episodes found in feed
=========================== short test summary info ============================
FAILED tests/test_checkpoint_recovery_integration.py::TestCheckpointRecoveryIntegration::test_checkpoint_with_temp_file_cleanup - AssertionError: assert False
 +  where False = exists()
 +    where exists = PosixPath('/tmp/pytest-of-sergeblumenfeld/pytest-54/test_checkpoint_with_temp_file0/data/.temp/temp_audio.mp3').exists
FAILED tests/test_checkpoint_recovery_integration.py::TestCheckpointRecoveryIntegration::test_concurrent_checkpoint_protection - Failed: DID NOT RAISE <class 'Exception'>
FAILED tests/test_checkpoint_recovery_integration.py::TestCheckpointRecoveryIntegration::test_checkpoint_recovery_with_orchestrator - AssertionError: assert 'Test Episode 1' == 'Test Episode for Checkpoint'
  
  - Test Episode for Checkpoint
  + Test Episode 1
FAILED tests/test_checkpoint_recovery_integration.py::TestCheckpointRecoveryIntegration::test_no_duplicate_processing_after_recovery - KeyError: 'metadata'
FAILED tests/test_e2e_transcription.py::TestE2ETranscriptionWithAudioUpload::test_full_pipeline_with_audio_upload - AssertionError: assert False
 +  where False = <MagicMock name='upload_file' id='139881068402192'>.called
FAILED tests/test_e2e_transcription.py::TestE2ETranscriptionWithAudioUpload::test_pipeline_audio_download_failure - AssertionError: assert False
 +  where False = exists()
 +    where exists = PosixPath('/tmp/pytest-of-sergeblumenfeld/pytest-54/test_pipeline_audio_download_f0/data/.transcription_progress.json').exists
FAILED tests/test_feed_parser_formats.py::TestFeedParserFormats::test_parse_itunes_podcast_feed - AssertionError: assert None == 'https://example.com/podcast-logo.jpg'
 +  where None = PodcastMetadata(title='iTunes Enhanced Podcast', description='A podcast with iTunes extensions', link='https://example.com', language='en-us', author='John Podcaster', owner_name=None, owner_email=None, category=None, explicit=False, image_url=None).image_url
FAILED tests/test_feed_parser_formats.py::TestFeedParserFormats::test_parse_feed_without_duration - assert 0 == 1
 +  where 0 = len([])
FAILED tests/test_feed_parser_formats.py::TestFeedParserFormats::test_parse_feed_with_youtube_links - assert 0 == 2
 +  where 0 = len([])
FAILED tests/test_feed_parser_formats.py::TestFeedParserFormats::test_parse_complex_feed - assert 0 == 2
 +  where 0 = len([])
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 10 failures !!!!!!!!!!!!!!!!!!!!!!!!!!
================== 10 failed, 53 passed, 4 warnings in 3.87s ===================
